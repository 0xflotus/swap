<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Swap</title>

        <link rel="stylesheet" href="http://florianv.github.io/swap/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://florianv.github.io/swap/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://florianv.github.io/swap/css/highlight.dark.css">
        <link rel="stylesheet" href="http://florianv.github.io/swap/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="http://florianv.github.io/swap/">
                Swap
                <small class="hidden-xs hidden-sm">
                    Exchange rates library for PHP 5.4+
                </small>
            </a>

            
        </header>

        <main class="container">
            <div class="row">

                
                <section id="content" class="col-sm-12">
                    <h1>Swap <a href="https://travis-ci.org/florianv/swap"><img alt="Build status" src="http://img.shields.io/travis/florianv/swap.svg?style=flat" /></a> <a href="https://packagist.org/packages/florianv/swap"><img alt="Version" src="http://img.shields.io/packagist/v/florianv/swap.svg?style=flat" /></a></h1>
<blockquote>
<p>Exchange rates library for PHP 5.4+</p>
</blockquote>
<h2>Installation</h2>
<pre><code class="language-bash">$ composer require florianv/swap</code></pre>
<h2>Usage</h2>
<p>First, you need to create an HTTP adapter provided by the <a href="https://github.com/egeloen/ivory-http-adapter">egeloen/ivory-http-adapter</a>
library.</p>
<pre><code class="language-php">$httpAdapter = new \Ivory\HttpAdapter\FileGetContentsHttpAdapter();</code></pre>
<p>Then, you can create a provider and add it to Swap:</p>
<pre><code class="language-php">// Create the Yahoo Finance provider
$yahooProvider = new \Swap\Provider\YahooFinanceProvider($httpAdapter);

// Create Swap with the provider
$swap = new \Swap\Swap($yahooProvider);</code></pre>
<h3>Quoting</h3>
<p>To retrieve the latest exchange rate for a currency pair, you need to use the <code>quote()</code> method.</p>
<pre><code class="language-php">$rate = $swap-&gt;quote('EUR/USD');

// 1.187220
echo $rate;

// 1.187220
echo $rate-&gt;getValue();

// 15-01-11 21:30:00
echo $rate-&gt;getDate()-&gt;format('Y-m-d H:i:s');</code></pre>
<blockquote>
<p>Currencies are expressed as their <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> code.</p>
</blockquote>
<h3>Chaining providers</h3>
<p>It is possible to chain providers in order to use fallbacks in case the main providers don't support the currency or are unavailable.
Simply create a <code>ChainProvider</code> wrapping the providers you want to chain.</p>
<pre><code class="language-php">$chainProvider = new \Swap\Provider\ChainProvider([
    new \Swap\Provider\YahooFinanceProvider($httpAdapter),
    new \Swap\Provider\GoogleFinanceProvider($httpAdapter)
]);</code></pre>
<p>The rates will be first fetched using the Yahoo Finance provider and will fallback to Google Finance.</p>
<h3>Caching</h3>
<p>For performance reasons you might want to cache the rates during a given time. Currently Swap allows you to use the 
<a href="https://github.com/doctrine/cache">doctrine/cache</a> library as caching provider.</p>
<pre><code class="language-php">// Create the cache adapter
$cache = new \Swap\Cache\DoctrineCache(new \Doctrine\Common\Cache\ApcCache(), 3600);

// Pass the cache to Swap
$swap = new \Swap\Swap($provider, $cache);</code></pre>
<p>All rates will now be cached in APC during 3600 seconds.</p>
<h3>Currency Codes</h3>
<p>Swap provides an enumeration of currency codes so you can use autocompletion to avoid typos.</p>
<pre><code class="language-php">use \Swap\Util\CurrencyCodes;

// Retrieving the EUR/USD rate
$rate = $swap-&gt;quote(new \Swap\Model\CurrencyPair(
    CurrencyCodes::ISO_EUR,
    CurrencyCodes::ISO_USD
));</code></pre>
<h2>Providers</h2>
<ul>
<li><a href="http://www.ecb.europa.eu/home/html/index.en.html">European Central Bank</a>
Supports only EUR as base currency.</li>
<li><a href="http://www.google.com/finance">Google Finance</a>
Supports multiple currencies as base and quote currencies.</li>
<li><a href="https://openexchangerates.org">Open Exchange Rates</a>
Supports only USD as base currency for the free version and multiple ones for the enterprise version.</li>
<li><a href="https://www.xignite.com">Xignite</a>
You must have access to the <code>XigniteGlobalCurrencies</code> API.
Supports multiple currencies as base and quote currencies.</li>
<li><a href="https://finance.yahoo.com/">Yahoo Finance</a>
Supports multiple currencies as base and quote currencies.</li>
<li><a href="http://www.webservicex.net/ws/default.aspx">WebserviceX</a>
Supports multiple currencies as base and quote currencies.</li>
<li><a href="http://www.bnr.ro">NationalBankOfRomania</a>
Supports only RON as base currency.</li>
</ul>
<h2>Integrations</h2>
<ul>
<li>A Symfony2 bundle <a href="https://github.com/florianv/FlorianvSwapBundle">FlorianvSwapBundle</a>.</li>
</ul>
<h2>License</h2>
<p><a href="https://github.com/florianv/swap/blob/master/LICENSE">MIT</a></p>
                </section>

            </div>
        </main>

        <footer>
            <div class="container">
                <p class="text-muted">
                    website generated with <a href="http://couscous.io" title="Markdown website generator">Couscous</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://yastatic.net/highlightjs/8.2/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
